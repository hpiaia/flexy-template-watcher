{% if filters and filters.useSearchParameters %}
    {% if not filters.categoryReferenceCode %}
        {% set filters = filters|merge({categoryReferenceCode: filters.category.referenceCode}) %}
    {% endif %}
    {% set query = filters %}
{% endif %}

{% if totalCount > 0 %}
    <nav class="flex items-center justify-between px-4 border-t border-gray-200 sm:px-0">
        <div class="flex flex-1 w-0 -mt-px">
            {% if previous is defined %}
                <a href="{{ path(route, query|merge({(pageParameterName): previous})) }}" class="inline-flex items-center pt-4 pr-1 text-sm font-medium text-gray-500 border-t-2 border-transparent hover:border-gray-300 hover:text-gray-700">
                    <svg class="w-5 h-5 mr-3 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                        <path fill-rule="evenodd" d="M18 10a.75.75 0 01-.75.75H4.66l2.1 1.95a.75.75 0 11-1.02 1.1l-3.5-3.25a.75.75 0 010-1.1l3.5-3.25a.75.75 0 111.02 1.1l-2.1 1.95h12.59A.75.75 0 0118 10z" clip-rule="evenodd" />
                    </svg>
                    Anterior
                </a>
            {% else %}
                <button class="inline-flex items-center pt-4 pr-1 text-sm font-medium text-gray-500 border-t-2 border-transparent opacity-50 cursor-not-allowed" disabled>
                    <svg class="w-5 h-5 mr-3 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                        <path fill-rule="evenodd" d="M18 10a.75.75 0 01-.75.75H4.66l2.1 1.95a.75.75 0 11-1.02 1.1l-3.5-3.25a.75.75 0 010-1.1l3.5-3.25a.75.75 0 111.02 1.1l-2.1 1.95h12.59A.75.75 0 0118 10z" clip-rule="evenodd" />
                    </svg>
                    Anterior
                </button>
            {% endif %}
        </div>

        <div class="hidden md:-mt-px md:flex">
            {% for page in pagesInRange %}
                <a href="{{ path(route, query|merge({(pageParameterName): page})) }}" class="inline-flex items-center border-t-2 px-4 pt-4 text-sm font-medium {{ page == current ? "border-primary-500 text-primary-600" : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" }}">
                    {{ page }}
                </a>
            {% endfor %}
        </div>

        <div class="flex justify-end flex-1 w-0 -mt-px">
            {% if next is defined %}
                <a href="{{ path(route, query|merge({(pageParameterName): next})) }}" class="inline-flex items-center pt-4 pl-1 text-sm font-medium text-gray-500 border-t-2 border-transparent hover:border-gray-300 hover:text-gray-700">
                    Próxima
                    <svg class="w-5 h-5 ml-3 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                        <path fill-rule="evenodd" d="M2 10a.75.75 0 01.75-.75h12.59l-2.1-1.95a.75.75 0 111.02-1.1l3.5 3.25a.75.75 0 010 1.1l-3.5 3.25a.75.75 0 11-1.02-1.1l2.1-1.95H2.75A.75.75 0 012 10z" clip-rule="evenodd" />
                    </svg>
                </a>
            {% else %}
                <button class="inline-flex items-center pt-4 pl-1 text-sm font-medium text-gray-500 border-t-2 border-transparent opacity-50 cursor-not-allowed">
                    Próxima
                    <svg class="w-5 h-5 ml-3 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                        <path fill-rule="evenodd" d="M2 10a.75.75 0 01.75-.75h12.59l-2.1-1.95a.75.75 0 111.02-1.1l3.5 3.25a.75.75 0 010 1.1l-3.5 3.25a.75.75 0 11-1.02-1.1l2.1-1.95H2.75A.75.75 0 012 10z" clip-rule="evenodd" />
                    </svg>
                </button>
            {% endif %}
        </div>
    </nav>
{% endif %}
