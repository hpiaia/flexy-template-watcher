{% import "FlexyFtwoStoreBundle:Components:forms.html.twig" as forms %}

<div class="px-4 py-6 mt-16 rounded-lg bg-gray-50 sm:p-6 lg:col-span-5 lg:mt-0 lg:p-8" id="cart-totals">
    {% include 'FlexyFtwoStoreBundle:Include/Cart:shipping-simulation.html.twig' with {details: details} %}

    <section aria-labelledby="cart-summary-heading">
        <h2 id="cart-summary-heading" class="text-lg font-medium text-gray-900">Resumo do pedido</h2>

        <dl class="mt-6 space-y-4">
            <div class="flex items-center justify-between">
                <dt class="text-sm text-gray-600">Subtotal</dt>
                <dd class="text-sm font-medium text-gray-900">R$ {{ total|number_format(2, ',', '.') }}</dd>
            </div>

            <div class="flex items-center justify-between pt-4 border-t border-gray-200">
                <dt class="text-sm text-gray-600">Descontos</dt>
                <dd class="text-sm font-medium text-gray-900">R$ {{ discount|number_format(2, ',', '.') }}</dd>
            </div>

            <div class="flex items-center justify-between pt-4 border-t border-gray-200">
                <dt class="text-sm text-gray-600">Frete</dt>
                <dd class="text-sm font-medium text-gray-900">R$ {{ shippingTotal|number_format(2, ',', '.') }}</dd>
            </div>

            <div class="flex items-center justify-between pt-4 border-t border-gray-200">
                <dt class="text-base font-medium text-gray-900">Total do pedido</dt>
                <dd class="text-base font-medium text-gray-900">R$ {{ (total - discount + shippingTotal)|number_format(2, ',', '.') }}</dd>
            </div>
        </dl>

        <div class="mt-6">
            {% if total > 0 %}
                <a href="{{ path('flexy_ftwo_store_checkout', {zipCode: app.request.get('zipCode')}) }}" class="w-full btn-lg btn-primary" preload preload-images="true">
                    Finalizar compra
                </a>
            {% else %}
                <button class="w-full btn-lg btn-primary" disabled>
                    Finalizar compra
                </button>
            {% endif %}
        </div>
    </section>
</div>
